{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["function fetchPhotoFromAPI(search) {\n  const BASE_URL = 'https://pixabay.com/api/';\n  const API_KEY = '39362116-97c7d5619fee8bb7db7b12f12';\n  const imageType = 'photo';\n  const photoOrientation = 'horizontal';\n  const safeSearch = true;\n\n  const params = new URLSearchParams({\n    key: API_KEY,\n    q: search,\n    image_type: imageType,\n    orientation: photoOrientation,\n    safesearch: safeSearch,\n  });\n\n  return fetch(`${BASE_URL}?${params}`).then((response) => {\n\n    if(!response.ok){\n        throw new Error(response.statusText)\n    }\n\n    return response.json()\n  })\n}\n\nexport {fetchPhotoFromAPI}","function createMarkup(array){\nreturn array.map(({webformatURL, largeImageURL, tags, likes, views, comments, downloads}) => `\n<li class=\"gallery-item\">\n<a class=\"gallery-link\" href=\"${largeImageURL}\">\n  <img class=\"gallery-image\"  src=\"${webformatURL}\" alt=\"${tags}\">\n  <ul class=\"descr-list\">\n    <li class=\"descr-item\"><span class=\"descr-header\">Likes</span> <span class=\"descr-value\">${likes}</span></li>\n    <li class=\"descr-item\"><span class=\"descr-header\">Views</span> <span class=\"descr-value\">${views}</span></li>\n    <li class=\"descr-item\"><span class=\"descr-header\">Comments</span> <span class=\"descr-value\">${comments}</span></li>\n    <li class=\"descr-item\"><span class=\"descr-header\">Downloads</span> <span class=\"descr-value\">${downloads}</span></li>\n  </ul>\n  </a>\n</li>`).join(\" \")\n}\n\nexport {createMarkup}","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport { fetchPhotoFromAPI } from './js/pixabay-api';\nimport { createMarkup } from './js/render-functions';\n\n// DOM elements\nconst formEl = document.querySelector('.search-form');\nconst inputEl = formEl.elements.search;\nconst gallery = document.querySelector('.gallery');\nconst loaderEl = document.querySelector('.loader');\n\nformEl.addEventListener('submit', searchHandler);\nfunction searchHandler(evt) {\n\n  if (gallery.innerHTML) gallery.innerHTML = '';\n\n  loaderEl.style.display=\"block\"\n\n  evt.preventDefault();\n\n  if(!inputEl.value.trim()){\n    iziToast.error({\n      title: 'Error',\n      message:\n        'Please enter something!',\n    });\n    return\n  }\n\n\n  fetchPhotoFromAPI(inputEl.value)\n    .then(data => {\n      if (!data.hits.length) {\n        iziToast.error({\n          title: 'Error',\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n        });\n        return\n      }\n\n      gallery.innerHTML = createMarkup(data.hits);\n\n      simplelightbox.refresh();\n    })\n    .catch(error => console.log(error))\n    .finally(() =>{\n      loaderEl.style.display = 'none';\n    });\n}\n\nlet simplelightbox = new SimpleLightbox('.gallery-item a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n  showCounter: true,\n});\n\n\n"],"names":["fetchPhotoFromAPI","search","BASE_URL","API_KEY","imageType","photoOrientation","params","response","createMarkup","array","webformatURL","largeImageURL","tags","likes","views","comments","downloads","formEl","inputEl","gallery","loaderEl","searchHandler","evt","iziToast","data","simplelightbox","error","SimpleLightbox"],"mappings":"6vBAAA,SAASA,EAAkBC,EAAQ,CACjC,MAAMC,EAAW,2BACXC,EAAU,qCACVC,EAAY,QACZC,EAAmB,aAGnBC,EAAS,IAAI,gBAAgB,CACjC,IAAKH,EACL,EAAGF,EACH,WAAYG,EACZ,YAAaC,EACb,WAAY,EAChB,CAAG,EAED,OAAO,MAAM,GAAGH,CAAQ,IAAII,CAAM,EAAE,EAAE,KAAMC,GAAa,CAEvD,GAAG,CAACA,EAAS,GACT,MAAM,IAAI,MAAMA,EAAS,UAAU,EAGvC,OAAOA,EAAS,KAAM,CAC1B,CAAG,CACH,CCvBA,SAASC,EAAaC,EAAM,CAC5B,OAAOA,EAAM,IAAI,CAAC,CAAC,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,IAAM;AAAA;AAAA,gCAE7DL,CAAa;AAAA,qCACRD,CAAY,UAAUE,CAAI;AAAA;AAAA,+FAEgCC,CAAK;AAAA,+FACLC,CAAK;AAAA,kGACFC,CAAQ;AAAA,mGACPC,CAAS;AAAA;AAAA;AAAA,MAGtG,EAAE,KAAK,GAAG,CAChB,CCHA,MAAMC,EAAS,SAAS,cAAc,cAAc,EAC9CC,EAAUD,EAAO,SAAS,OAC1BE,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAW,SAAS,cAAc,SAAS,EAEjDH,EAAO,iBAAiB,SAAUI,CAAa,EAC/C,SAASA,EAAcC,EAAK,CAQ1B,GANIH,EAAQ,YAAWA,EAAQ,UAAY,IAE3CC,EAAS,MAAM,QAAQ,QAEvBE,EAAI,eAAc,EAEf,CAACJ,EAAQ,MAAM,OAAO,CACvBK,EAAS,MAAM,CACb,MAAO,QACP,QACE,yBACR,CAAK,EACD,MACD,CAGDvB,EAAkBkB,EAAQ,KAAK,EAC5B,KAAKM,GAAQ,CACZ,GAAI,CAACA,EAAK,KAAK,OAAQ,CACrBD,EAAS,MAAM,CACb,MAAO,QACP,QACE,0EACZ,CAAS,EACD,MACD,CAEDJ,EAAQ,UAAYX,EAAagB,EAAK,IAAI,EAE1CC,EAAe,QAAO,CAC5B,CAAK,EACA,MAAMC,GAAS,QAAQ,IAAIA,CAAK,CAAC,EACjC,QAAQ,IAAK,CACZN,EAAS,MAAM,QAAU,MAC/B,CAAK,CACL,CAEA,IAAIK,EAAiB,IAAIE,EAAe,kBAAmB,CACzD,aAAc,MACd,aAAc,IACd,YAAa,EACf,CAAC"}